# detr model configuration for insulator detection

model:
  backbone: "resnet50"
  num_classes: 1 # insulators + background
  num_queries: 100
  dropout: 0.1
  aux_loss: true

data:
  dataset_name: "insulators"
  data_dir: "data/insulators"
  train_annotations: "train/_annotations.coco.json"
  val_annotations: "valid/_annotations.coco.json"
  test_annotations: "test/_annotations.coco.json"
  image_size: 512
  batch_size: 8
  num_workers: 4

training:
  epochs: 50
  lr: 1e-4
  lr_backbone: 1e-5
  weight_decay: 1e-4
  clip_max_norm: 0.1
  freeze_backbone_epochs: 10 # freeze backbone for initial epochs
  log_every_n_steps: 50

checkpointing:
  dirpath: "checkpoints"
  filename: "detr-insulator-{epoch:02d}-{val_loss:.2f}"
  monitor: "val_loss"
  mode: "min"

# pretrained weights (e.g., from COCO)
pretrained_weights: "https://dl.fbaipublicfiles.com/detr/detr-r50-e632da11.pth"